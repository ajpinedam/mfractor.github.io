<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Matthew Robbins">
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  
  <title>Mvvm Navigation - mfractor docs</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/highlight.css">
  <link href="../../../css/breadcrumbs.css" rel="stylesheet">
  <link href="../../../css/code.css" rel="stylesheet">
  <link href="../../../css/fabric.css" rel="stylesheet">
  <link href="../../../css/sidenav.css" rel="stylesheet">
  <link href="../../../css/mfractor.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Mvvm Navigation";
    var mkdocs_page_input_path = "tutorials/xamarin-forms/mvvm-navigation.md";
    var mkdocs_page_url = "/tutorials/xamarin-forms/mvvm-navigation/";
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../../js/highlight.pack.js"></script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-71910290-3', 'docs.mfractor.com');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> mfractor docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
<li class="toctree-l1 ">
  <a class="" href="../../..">Home</a>
  
</li>
<li>
          
            <li>
<ul class="subnav">
  <li><span>Getting Started</span></li>
  
  
<li class="toctree-l1 ">
  <a class="" href="../../../setup/">Setup</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../faq/">FAQ</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-forms-quickstart/">Xamarin.Forms Quickstart</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android-quickstart/">Xamarin.Android Quickstart</a>
  
</li>

  
</ul>
<li>
          
            <li>
<ul class="subnav">
  <li><span>Xamarin.Forms</span></li>
  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-forms/configure-binding-context/">Configure Binding Context</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-forms/navigation/">Navigation</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-forms/analysis/">Analysis</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-forms/code-actions/">Using Code Actions</a>
  
</li>

  
  
<ul class="subnav">
  <li><span>Tools In-Depth</span></li>
  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-forms/tools-in-depth/analysers/">Analysers</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-forms/tools-in-depth/refactor/">Refactorings</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-forms/tools-in-depth/generate/">Code Generation</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-forms/tools-in-depth/organise/">Xaml Organisation</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-forms/tools-in-depth/fix/">Issue Fixing</a>
  
</li>

  
</ul>

  
</ul>
<li>
          
            <li>
<ul class="subnav">
  <li><span>Xamarin.Android</span></li>
  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/project-resource-indexing/">Project Resource Indexing</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/navigation/">Navigation</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/analysis/">Analysis</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/code-actions/">Using Code Actions</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/dotnet-code-analysis/">.NET Code Analysis</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/resource-intellisense/">Resource IntelliSense</a>
  
</li>

  
  
<ul class="subnav">
  <li><span>Tools In-Depth</span></li>
  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/tools-in-depth/analysers/">Analysers</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/tools-in-depth/refactor/">Refactorings</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/tools-in-depth/generate/">Code Generation</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/tools-in-depth/organise/">Organisation</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/tools-in-depth/fix/">Issue Fixing</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../xamarin-android/tools-in-depth/intellisense/">IntelliSense</a>
  
</li>

  
</ul>

  
</ul>
<li>
          
            <li>
<ul class="subnav">
  <li><span>Tutorials</span></li>
  
  
<li class="toctree-l1 ">
  <a class="" href="../../tutorials/">Tutorials</a>
  
</li>

  
  
<ul class="subnav">
  <li><span>Xamarin.Android</span></li>
  
  
<li class="toctree-l1 ">
  <a class="" href="../../xamarin-android/resource-expressions-and-code-navigation/">Resource Expressions And Code Navigation</a>
  
</li>

  
</ul>

  
  
<ul class="subnav">
  <li><span>Xamarin.Forms</span></li>
  
  
<li class="toctree-l1 current">
  <a class="current" href="./">Mvvm Navigation</a>
  
  <ul>
    
      
    
      
      <li class="toctree-l3"><a href="#overview">Overview</a></li>
      
    
      
      <li class="toctree-l3"><a href="#views-code-behind-classes-and-viewmodels">Views, Code Behind classes and ViewModels</a></li>
      
    
      
      <li class="toctree-l3"><a href="#fluid-mvvm-navigation">Fluid Mvvm Navigation</a></li>
      
    
      
      <li class="toctree-l3"><a href="#summary">Summary</a></li>
      
    
  </ul>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../implementing-view-models/">Implementing View Models</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../value-converter-type-safety/">Value Converter Type Safety</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../organising-xaml-code/">Organising Xaml Code</a>
  
</li>

  
</ul>

  
</ul>
<li>
          
            <li>
<ul class="subnav">
  <li><span>Release Notes</span></li>
  
  
<li class="toctree-l1 ">
  <a class="" href="../../../release-notes/v2-10/">v2.10</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../release-notes/v2-9/">v2.9</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../release-notes/v2-8/">v2.8</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../release-notes/v2-7/">v2.7</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../release-notes/v2-6/">v2.6</a>
  
</li>

  
  
<li class="toctree-l1 ">
  <a class="" href="../../../release-notes/v2-5/">v2.5</a>
  
</li>

  
</ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">mfractor docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>Tutorials &raquo;</li>
        
      
        
          <li>Xamarin.Forms &raquo;</li>
        
      
    
    <li>Mvvm Navigation</li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="mvvm-navigation">Mvvm Navigation</h2>
<p><em>Quickly move between Xamarin.Forms Views, View Models and Code behind classes using Mvvm navigation shortcuts</em></p>
<h2 id="overview">Overview</h2>
<p>Xamarin.Forms is cross platform toolkit that allows developers to build iOS, Android and Windows apps and maximise code reuse across platforms. Xamarin.Forms also facilitates shared UI code through the use of an xml based view markup langauge named Xaml.</p>
<p>Developers build their UI views in Xaml and Xamarin.Forms then inflate the view into it’s native implementation.</p>
<p>Alongside shared UI code, Xamarin.Forms uses the Model – View – View Model (Mvvm) design pattern to seperate a UI definition it’s from state/behaviour code.</p>
<p>The Mvvm design pattern is a great for maintainabilty and code clarity however developers can spend a lot of time manually nagivating between Xaml views and an associated view model.</p>
<p>MFractor adds several navigation shortcuts to speed up developers.</p>
<p>Getting Started
In this article we will use MFractor to navigate between a Xaml UI definition, it’s code behind class and its associated view model.</p>
<p>We assume the following:</p>
<ul>
<li>A Xamarin Studio 6.0 installation.</li>
<li>MFractor installed into Xamarin Studio. Install it here: www.mfractor.com/download</li>
<li>A familiarity with the Xamarin.Forms; particularly building UIs with Xaml and the Model – View – View Model design pattern.</li>
<li>The MFractor For Xamarin.Forms sample project downloaded and open in Xamarin Studio.</li>
</ul>
<h2 id="views-code-behind-classes-and-viewmodels">Views, Code Behind classes and ViewModels</h2>
<p>Let’s start by examining the MFractor For Xamarin.Forms sample project. Open it up in Xamarin Studio and take a look at the project structure:</p>
<p>MFractor For Xamarin.Forms Project</p>
<p>The project itself is trivial; it has a single xaml page with a code behind class and 2 view view models; WelcomeViewModel and GoodbyeViewModel. Notice that this project appends Xaml views with with “Page” and view models with “ViewModel”.</p>
<p>Before we get started learning how to use the Mvvm navigation shortcuts, let’s understand the conventions that MFractor uses to drive the navigation.</p>
<h3 id="the-pageview-and-viewmodel-naming-convention">The “Page/View" and "ViewModel" naming convention</h3>
<p>In Xamarin.Forms, the de-facto naming convention is to append views with Page or View and view models are appended with ViewModel.</p>
<p>This naming standard implies that the WelcomePage and the WelcomeViewModel are associated; if we stripped off Page and ViewModel from the file names then both would be named Welcome. This implicit relationship makes the codebase easier to understand by conforming to industry standards.</p>
<p>MFractor notices this implicit relationship; if a view and a view model within the same assembly are named like this, a MFractor activates shortcuts between the view, it’s code behind and the associated view model.</p>
<p>If developers don’t want this implicit relationship or their Views/View Models are in seperate assemblies, they may explicitly specify the binding context in the view’s Xaml using the View Model Locator pattern.</p>
<h3 id="the-viewmodellocator-pattern">The ViewModelLocator Pattern</h3>
<p>The ViewModelLocator pattern is a static class used to specify the BindingContext of a Xaml view for design time previewing. James Montemagno re-introduced this concept in his blog post for the Xaml Previewer.</p>
<p>Developers implement a static class named ViewModelLocator that exposes a static instance of their view models:</p>
<pre><code>public static class ViewModelLocator
{
    static MyViewModel _myViewModel;
    public static MyViewModel MyViewModel =&gt; _myViewModel ?? (_myViewModel = new MyViewModel());
}
</code></pre>

<p>This static instance is then bound to the Xaml’s binding context via an x:Static expression:</p>
<pre><code>    xmlns:design=&quot;clr-namespace:MyAppNamespace;assembly=MyApp&quot;
    BindingContext=&quot;{x:Static design:ViewModelLocator.MyViewModel}&quot;
</code></pre>

<p>When the BindingContext for a view is explicitly defined, MFractor will honor this relationship and route all Mvvm navigation to the view model class declaration defined by the ViewModelLocator.</p>
<p>For the sample project, we could retarget the WecomePage to link with the GoodbyeViewModel by exposing a static instance through the ViewModelLocator and referencing it using the BindingContext:</p>
<p><strong>C#</strong></p>
<pre><code>public static class ViewModelLocator
{
    static GoodbyeViewModel _goodebye;
    public static GoodbyeViewModel GoodbyeViewModel =&gt; _goodebye ?? (_goodebye = new GoodbyeViewModel());
}
</code></pre>

<p><strong>Xaml</strong></p>
<pre><code>    xmlns:design=&quot;clr-namespace:MFractorForForms;assembly=MFractorForForms&quot;
    BindingContext=&quot;{x:Static design:ViewModelLocator.GoodbyeViewModel}&quot;
</code></pre>

<h2 id="fluid-mvvm-navigation">Fluid Mvvm Navigation</h2>
<p>Now that we understand how MFractor links the Mvvm code files, let’s get to know the Mvvm navigation shortcuts.</p>
<p>Open up the WelcomePage.xaml and right click in the middle of the editor:</p>
<h3 id="mvvm-shortcuts">Mvvm Shortcuts</h3>
<p>There are 3 Mvvm navigation shortcuts in MFractor:</p>
<ul>
<li>Go To Code-Behind Class: Jumps you to the code behind class related to a view or view model</li>
<li>Go To View Model: Jumps you to the view model related to a view or code behind class.</li>
<li>Go To Xaml View: Jumps you to the xaml view related to a view model or code behind class.</li>
</ul>
<p>We can use these short-cuts to quickly navigate around these 3 files:</p>
<p>Or we can use an xStatic expression that uses the ViewModelLocator to target a different view model implementation:</p>
<h3 id="custom-binding-context">Custom Binding Context</h3>
<p>Now the Go To View Model shortcut will instead jump to the class type used by the BindingContext rather than the implicit association.</p>
<h2 id="summary">Summary</h2>
<p>We’ve learnt how to use MFractors Mvvm navigation shortcuts to quickly move between the View, Code Behind Class and View Model</p>
<p>To continue learning to use MFractor, visit our documentation page.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../implementing-view-models/" class="btn btn-neutral float-right" title="Implementing View Models">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../xamarin-android/resource-expressions-and-code-navigation/" class="btn btn-neutral" title="Resource Expressions And Code Navigation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div class="fastlane" role="contentinfo">
    <p>
      <a href="https://www.mfractor.com" target="_blank">
        <img src="/img/logo-horizontal.png" width="200" />
      </a>
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a> - Copyright &copy; 2016 <a href="https://www.mfractor.com">MFractor</a>
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/matthewrdev/mfractor-documentation" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../../xamarin-android/resource-expressions-and-code-navigation/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../implementing-view-models/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../../js/theme.js"></script>

</body>
</html>
